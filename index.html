<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>ê³ ë¶€ë²ˆì—­ê¸° | funnyfunny.cloud</title>
  <meta name="description" content="ê³ ë¶€ê°ˆë“±ì„ â€˜í•´ê²°â€™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëŒ€ì‹  ë§ì„ ë²ˆì—­í•˜ê³ , ê°ì •ì„ ì •ë¦¬í•˜ê³ , ì„ íƒì§€ë¥¼ ì œì‹œí•©ë‹ˆë‹¤. (ìµëª…Â·ì €ì¥ ì—†ìŒ)" />

  <!-- OG (ì˜ì–´ + ë„ì–´ì“°ê¸° '+' ê·œì¹™) -->
  <meta property="og:title" content="INLAW+TRANSLATOR" />
  <meta property="og:description" content="Translate+meaning+offer+choices+stay+calm" />
  <meta property="og:image" content="https://dummyimage.com/1200x630/0b1220/ffffff&text=INLAW+TRANSLATOR" />

  <!-- Favicon (SVG data URI: ë‹¨ì¼íŒŒì¼) -->
  <link rel="icon" type="image/svg+xml"
    href='data:image/svg+xml;utf8,
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
      <rect width="64" height="64" rx="14" fill="%230b1220"/>
      <path d="M16 22h32v6H16zM16 34h22v6H16zM16 46h32v6H16z" fill="%23ffffff" opacity="0.92"/>
      <circle cx="45" cy="37" r="6" fill="%23ff6b6b"/>
    </svg>' />

  <style>
    :root{
      --bg:#f7f8fa;
      --card:#ffffff;
      --text:#111;
      --muted:#6b7280;
      --primary:#0b1220;
      --accent:#ff6b6b;
      --line:#e5e7eb;
      --soft:#f2f4f7;
      --ok:#10b981;
      --warn:#f59e0b;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"Apple SD Gothic Neo","Noto Sans KR",Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background:var(--bg);
      color:var(--text);
    }
    a{color:inherit;text-decoration:none}
    .wrap{max-width:920px;margin:0 auto;padding:18px 14px 92px;}
    header{
      display:flex;align-items:center;justify-content:space-between;
      gap:10px;margin-bottom:14px;
    }
    .brand{
      display:flex;align-items:center;gap:10px;
      font-weight:900;letter-spacing:0.2px;
    }
    .brand-badge{
      width:34px;height:34px;border-radius:10px;background:var(--primary);
      display:grid;place-items:center;color:#fff;font-weight:950;
    }
    .top-actions{display:flex;gap:10px;align-items:center;flex-wrap:wrap;justify-content:flex-end}
    .btn{
      border:1px solid var(--line);
      background:var(--card);
      padding:10px 12px;
      border-radius:12px;
      cursor:pointer;
      font-weight:750;
      font-size:14px;
      line-height:1;
      display:inline-flex;gap:8px;align-items:center;justify-content:center;
    }
    .btn.primary{background:var(--primary);color:#fff;border-color:transparent}
    .btn.ghost{background:transparent}
    .btn:active{transform:translateY(1px)}
    .intro{
      border:1px solid var(--line);
      background:linear-gradient(180deg, #fff 0%, #fff 60%, rgba(255,255,255,0) 100%);
      border-radius:18px;
      padding:18px;
      margin-bottom:14px;
    }
    h1{margin:0 0 8px;font-size:22px;line-height:1.25}
    .sub{margin:0;color:var(--muted);font-size:14px;line-height:1.6}
    .pillrow{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
    .pill{
      display:inline-flex;align-items:center;gap:6px;
      padding:6px 10px;border-radius:999px;border:1px solid var(--line);
      background:#fff;font-size:12px;color:#374151;font-weight:750;
    }

    .grid{
      display:grid;grid-template-columns:1fr;gap:14px;
    }
    @media (min-width:920px){
      .grid{grid-template-columns:1.35fr 0.65fr}
    }
    .panel{
      border:1px solid var(--line);
      background:var(--card);
      border-radius:18px;
      padding:16px;
    }
    .panel h2{
      margin:0 0 10px;font-size:16px;display:flex;align-items:center;gap:8px;
    }
    .hint{color:var(--muted);font-size:13px;line-height:1.55;margin:0 0 12px}
    .tabs{
      display:flex;gap:8px;flex-wrap:wrap;margin:10px 0 14px;
    }
    .tab{
      border:1px solid var(--line);
      background:#fff;
      padding:10px 12px;
      border-radius:999px;
      cursor:pointer;
      font-weight:850;
      font-size:13px;
    }
    .tab.active{background:rgba(11,18,32,0.06);border-color:rgba(11,18,32,0.35)}
    .section{display:none}
    .section.show{display:block}

    .field{display:grid;gap:6px;margin-bottom:10px}
    .label{
      display:flex;align-items:center;gap:6px;
      font-size:13px;color:#374151;font-weight:800;
    }
    textarea, select, input[type="text"]{
      width:100%;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid var(--line);
      background:#fff;
      font-size:14px;
      outline:none;
      resize:vertical;
      min-height:110px;
      line-height:1.5;
    }
    select, input[type="text"]{min-height:auto}
    textarea:focus, select:focus, input[type="text"]:focus{border-color:rgba(11,18,32,0.45)}
    .row2{display:grid;grid-template-columns:1fr;gap:10px}
    @media (min-width:720px){ .row2{grid-template-columns:1fr 1fr} }

    .actions{
      display:flex;gap:10px;flex-wrap:wrap;margin-top:10px;
    }

    .result{
      margin-top:12px;
      border-top:1px solid var(--line);
      padding-top:12px;
      display:none;
    }
    .result.show{display:block}
    .cards{
      display:grid;grid-template-columns:1fr;gap:12px;margin-top:12px;
    }
    @media (min-width:720px){ .cards{grid-template-columns:1fr 1fr} }
    .card{
      border:1px solid var(--line);
      border-radius:18px;
      background:#fff;
      padding:14px;
    }
    .card .ct{
      margin:0 0 10px;
      font-weight:950;
      font-size:14px;
      display:flex;align-items:center;gap:8px;
    }
    .box{
      padding:10px 12px;border-radius:14px;background:var(--soft);border:1px solid #eef0f3;
      font-size:14px;line-height:1.6;color:#111;
    }
    .list{margin:0;padding-left:18px;font-size:14px;line-height:1.65}
    .list li{margin:6px 0}
    .tone-row{
      display:flex;gap:8px;flex-wrap:wrap;
    }
    .tone{
      border:1px solid var(--line);
      background:#fff;
      padding:10px 10px;border-radius:999px;
      cursor:pointer;font-weight:900;font-size:13px;
    }
    .tone.active{background:rgba(11,18,32,0.06);border-color:rgba(11,18,32,0.35)}
    .divider{height:1px;background:var(--line);margin:12px 0}
    .note{
      margin-top:10px;
      padding:10px 12px;
      background:#f5f7fa;
      border:1px dashed var(--line);
      border-radius:14px;
      color:#374151;
      font-size:13px;
      line-height:1.55;
    }
    .aside{
      border:1px solid var(--line);
      background:#fff;border-radius:18px;
      padding:16px;
    }
    .aside h3{margin:0 0 10px;font-size:14px;font-weight:950}
    .aside .small{font-size:13px;color:#374151;line-height:1.6}
    .shield{
      border:1px solid rgba(245,158,11,0.25);
      background:rgba(245,158,11,0.08);
      padding:12px 12px;border-radius:16px;
      color:#7c2d12;
      font-weight:900;
      line-height:1.55;
      margin-bottom:10px;
    }
    .tiny{font-size:12px;color:var(--muted);line-height:1.5}
    .footer-fixed{
      position:fixed;left:0;right:0;bottom:0;
      background:rgba(247,248,250,0.86);
      backdrop-filter: blur(10px);
      border-top:1px solid var(--line);
      padding:10px 12px;
    }
    .footer-fixed .inner{
      max-width:920px;margin:0 auto;display:flex;gap:10px;align-items:center;justify-content:space-between;
      flex-wrap:wrap;
    }
    .toast{
      position:fixed;left:50%;transform:translateX(-50%);
      bottom:76px;background:#111;color:#fff;
      padding:10px 12px;border-radius:999px;
      font-size:13px;box-shadow:0 10px 30px rgba(0,0,0,0.22);
      opacity:0;pointer-events:none;
      transition:opacity .15s ease, transform .15s ease;
    }
    .toast.show{opacity:1;transform:translateX(-50%) translateY(-4px)}
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="brand-badge">FF</div>
        <div>
          <div style="font-weight:950">ê³ ë¶€ë²ˆì—­ê¸°</div>
          <div class="tiny">ë§ì„ ë²ˆì—­í•˜ê³  Â· ê°ì •ì„ ì •ë¦¬í•˜ê³  Â· ì„ íƒì§€ë¥¼ ì œì‹œ</div>
        </div>
      </div>
      <div class="top-actions">
        <button class="btn ghost" id="btnReset">ì´ˆê¸°í™”</button>
        <a class="btn" href="./en.html">ğŸ‡ºğŸ‡¸ English</a>
        <a class="btn ghost" href="https://funnyfunny.cloud" target="_blank" rel="noopener">ë‹¤ë¥¸ ì„œë¹„ìŠ¤ ë³´ê¸°</a>
      </div>
    </header>

    <section class="intro">
      <h1>ê°ˆë“±ì„ â€œí•´ê²°â€í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëŒ€ì‹  ë²ˆì—­í•©ë‹ˆë‹¤.</h1>
      <p class="sub">
        ì´ ì„œë¹„ìŠ¤ëŠ” ìƒë‹´/ì¹˜ë£Œê°€ ì•„ë‹ˆê³ , ëˆ„ê°€ ì˜³ì€ì§€ íŒë‹¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br/>
        ë‹¤ë§Œ, ì˜¤ê°€ëŠ” ë§ì„ <b>í‘œë©´</b> / <b>ì†ëœ»(ê°€ëŠ¥ì„±)</b> / <b>ëŒ€ì‘ ì„ íƒì§€</b>ë¡œ ë‚˜ëˆ ì„œ
        ì§€ê¸ˆì˜ ë¶€ë‹´ì„ ì¤„ì—¬ì£¼ëŠ” <b>ë”¸ê¹ ë„êµ¬</b>ì…ë‹ˆë‹¤.
      </p>
      <div class="pillrow">
        <span class="pill">ìµëª…</span>
        <span class="pill">ì €ì¥ ì—†ìŒ</span>
        <span class="pill">í¸ë“¤ê¸° ì—†ìŒ</span>
        <span class="pill">ì„ íƒì§€ ì œê³µ</span>
      </div>
    </section>

    <div class="grid">
      <section class="panel">
        <h2>ë„êµ¬ ì„ íƒ</h2>
        <p class="hint">ì•„ë˜ íƒ­ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ê³ , ë¬¸ì¥ì„ ë¶™ì—¬ ë„£ì€ ë’¤ â€œë”¸ê¹ ë²ˆì—­â€ì„ ëˆ„ë¥´ì„¸ìš”.</p>

        <div class="tabs">
          <button class="tab active" data-tab="t1" type="button">â‘  ê³ ë¶€ë²ˆì—­ê¸°</button>
          <button class="tab" data-tab="t2" type="button">â‘¡ ë‚¨í¸ ì¤‘ì¬ ë²ˆì—­ê¸°</button>
          <button class="tab" data-tab="t3" type="button">â‘¢ ì˜¤ëŠ˜ì˜ ë°©íŒ¨</button>
        </div>

        <!-- â‘  ê³ ë¶€ë²ˆì—­ê¸° -->
        <div class="section show" id="t1">
          <div class="row2">
            <div class="field">
              <div class="label">ë¹ ë¥¸ ì˜ˆì‹œ ì„ íƒ(ì„ íƒ)</div>
              <select id="sample1">
                <option value="">ì˜ˆì‹œë¥¼ ê³¨ë¼ ìë™ ì…ë ¥</option>
                <option value="ìš”ì¦˜ì€ ì§‘ì— ë„ˆë¬´ ì•ˆ ì˜¤ë„¤.">ìš”ì¦˜ì€ ì§‘ì— ë„ˆë¬´ ì•ˆ ì˜¤ë„¤.</option>
                <option value="ê·¸ë ‡ê²Œê¹Œì§€ ë°”ì˜ë©´ ê²°í˜¼ì€ ì™œ í–ˆë‹ˆ?">ê·¸ë ‡ê²Œê¹Œì§€ ë°”ì˜ë©´ ê²°í˜¼ì€ ì™œ í–ˆë‹ˆ?</option>
                <option value="ì• ëŠ” ì—„ë§ˆê°€ í‚¤ìš°ëŠ” ê±´ë°â€¦ ìš”ì¦˜ ë°©ì‹ì€ ëª¨ë¥´ê² ë‹¤.">ì• ëŠ” ì—„ë§ˆê°€ í‚¤ìš°ëŠ” ê±´ë°â€¦ ìš”ì¦˜ ë°©ì‹ì€ ëª¨ë¥´ê² ë‹¤.</option>
                <option value="ë°¥ì€ í•´ ë¨¹ê³  ì‚¬ë‹ˆ?">ë°¥ì€ í•´ ë¨¹ê³  ì‚¬ë‹ˆ?</option>
                <option value="ë‚˜ëŠ” ë„¤ê°€ ì‹«ì–´ì„œê°€ ì•„ë‹ˆë¼ ê±±ì •ë¼ì„œ ê·¸ë˜.">ë‚˜ëŠ” ë„¤ê°€ ì‹«ì–´ì„œê°€ ì•„ë‹ˆë¼ ê±±ì •ë¼ì„œ ê·¸ë˜.</option>
              </select>
            </div>

            <div class="field">
              <div class="label">ìƒí™©(ì„ íƒ)</div>
              <select id="context1">
                <option value="general">ì¼ìƒ/ëŒ€í™”</option>
                <option value="visit">ë°©ë¬¸/ëª…ì ˆ/í–‰ì‚¬</option>
                <option value="child">ìœ¡ì•„/êµìœ¡</option>
                <option value="house">ì§‘ì•ˆì¼/ìƒí™œ</option>
                <option value="money">ê¸ˆì „/ì§€ì›</option>
              </select>
            </div>
          </div>

          <div class="field">
            <div class="label">ìƒëŒ€ê°€ í•œ ë§</div>
            <textarea id="input1" placeholder="ì˜ˆ: ìš”ì¦˜ì€ ì§‘ì— ë„ˆë¬´ ì•ˆ ì˜¤ë„¤"></textarea>
          </div>

          <div class="field">
            <div class="label">ë‚´ê°€ ì›í•˜ëŠ” ë°©í–¥(í†¤ ì„ íƒ)</div>
            <div class="tone-row" id="toneRow1">
              <button class="tone active" data-tone="peace" type="button">ğŸ˜Œ í‰í™”í˜•</button>
              <button class="tone" data-tone="neutral" type="button">ğŸ˜ ì¤‘ë¦½í˜•</button>
              <button class="tone" data-tone="boundary" type="button">ğŸ›¡ï¸ ì„ ê¸‹ê¸°í˜•</button>
            </div>
          </div>

          <div class="actions">
            <button class="btn primary" id="btnRun1" type="button">ë”¸ê¹ ë²ˆì—­</button>
            <button class="btn" id="btnCopy1" type="button">ê²°ê³¼ ìš”ì•½ ë³µì‚¬</button>
          </div>

          <div class="result" id="result1">
            <div class="cards">
              <div class="card">
                <div class="ct">í‘œë©´ ì˜ë¯¸</div>
                <div class="box" id="surface1">-</div>
              </div>
              <div class="card">
                <div class="ct">ì†ëœ» ë²ˆì—­(ê°€ëŠ¥ì„±)</div>
                <ul class="list" id="hidden1"></ul>
              </div>
              <div class="card">
                <div class="ct">ì¶”ì²œ ë°˜ì‘ 3ê°€ì§€</div>
                <ul class="list" id="responses1"></ul>
              </div>
              <div class="card">
                <div class="ct">ì§€ê¸ˆ í–‰ë™ ê°€ì´ë“œ</div>
                <div class="box" id="guide1">-</div>
              </div>
            </div>

            <div class="note">
              <b>ì£¼ì˜:</b> ì´ ê²°ê³¼ëŠ” â€œì •ë‹µâ€ì´ ì•„ë‹ˆë¼ â€œê°€ëŠ¥í•œ í•´ì„/ì„ íƒì§€â€ì…ë‹ˆë‹¤.
              ìƒí™©/ê´€ê³„/ë§íˆ¬/ëˆ„ì ëœ ê°ì •ì— ë”°ë¼ ì „í˜€ ë‹¤ë¥¼ ìˆ˜ ìˆì–´ìš”.
            </div>
          </div>
        </div>

        <!-- â‘¡ ë‚¨í¸ ì¤‘ì¬ ë²ˆì—­ê¸° -->
        <div class="section" id="t2">
          <div class="row2">
            <div class="field">
              <div class="label">ë¹ ë¥¸ ì˜ˆì‹œ ì„ íƒ(ì„ íƒ)</div>
              <select id="sample2">
                <option value="">ì˜ˆì‹œë¥¼ ê³¨ë¼ ìë™ ì…ë ¥</option>
                <option value="ë‹¹ì‹  ì—„ë§ˆ ë•Œë¬¸ì— ë„ˆë¬´ ìŠ¤íŠ¸ë ˆìŠ¤ì•¼.">ë‹¹ì‹  ì—„ë§ˆ ë•Œë¬¸ì— ë„ˆë¬´ ìŠ¤íŠ¸ë ˆìŠ¤ì•¼.</option>
                <option value="ë‚œ í˜¼ì ì‹¸ìš°ëŠ” ëŠë‚Œì´ì•¼.">ë‚œ í˜¼ì ì‹¸ìš°ëŠ” ëŠë‚Œì´ì•¼.</option>
                <option value="ë‹¹ì‹ ì´ ì¤‘ê°„ì—ì„œ ì •ë¦¬í•´ì¤¬ìœ¼ë©´ ì¢‹ê² ì–´.">ë‹¹ì‹ ì´ ì¤‘ê°„ì—ì„œ ì •ë¦¬í•´ì¤¬ìœ¼ë©´ ì¢‹ê² ì–´.</option>
                <option value="ë‚´ê°€ ë¬´ì‹œë‹¹í•˜ëŠ” ëŠë‚Œì´ ë“¤ì–´.">ë‚´ê°€ ë¬´ì‹œë‹¹í•˜ëŠ” ëŠë‚Œì´ ë“¤ì–´.</option>
              </select>
            </div>
            <div class="field">
              <div class="label">ëª©í‘œ(ì„ íƒ)</div>
              <select id="goal2">
                <option value="reduce">ì‹¸ì›€ ì¤„ì´ê¸°</option>
                <option value="ask">ë„ì›€ ìš”ì²­</option>
                <option value="boundary">ê²½ê³„ ì„¸ìš°ê¸°</option>
                <option value="plan">ì•ìœ¼ë¡œì˜ ê·œì¹™ ë§Œë“¤ê¸°</option>
              </select>
            </div>
          </div>

          <div class="field">
            <div class="label">ë‚¨í¸ì—ê²Œ í•˜ê³  ì‹¶ì€ ë§(ì›ë¬¸)</div>
            <textarea id="input2" placeholder="ì˜ˆ: ë‹¹ì‹  ì—„ë§ˆ ë•Œë¬¸ì— ë„ˆë¬´ ìŠ¤íŠ¸ë ˆìŠ¤ì•¼"></textarea>
          </div>

          <div class="actions">
            <button class="btn primary" id="btnRun2" type="button">ë”¸ê¹ ë²ˆì—­</button>
            <button class="btn" id="btnCopy2" type="button">ê²°ê³¼ ìš”ì•½ ë³µì‚¬</button>
          </div>

          <div class="result" id="result2">
            <div class="cards">
              <div class="card">
                <div class="ct">ê°ì • ì œê±° ë²„ì „</div>
                <div class="box" id="v2a">-</div>
              </div>
              <div class="card">
                <div class="ct">ì„¤ë“ ì¤‘ì‹¬ ë²„ì „</div>
                <div class="box" id="v2b">-</div>
              </div>
              <div class="card">
                <div class="ct">ìµœì†Œ ì¶©ëŒ ë²„ì „</div>
                <div class="box" id="v2c">-</div>
              </div>
              <div class="card">
                <div class="ct">í•œ ì¤„ ìš”ì²­(ì´ˆë‹¨ë¬¸)</div>
                <div class="box" id="v2d">-</div>
              </div>
            </div>

            <div class="note">
              <b>íŒ:</b> â€œë‹¹ì‹  ì—„ë§ˆâ€ í”„ë ˆì„ì€ ë°©ì–´ë¥¼ ë¶€ë¥´ê¸° ì‰¬ì›Œìš”.
              ê°€ëŠ¥í•˜ë©´ <b>ë‚´ ê°ì •(ë‚˜)</b> + <b>ì›í•˜ëŠ” í–‰ë™(ìš”ì²­)</b> í˜•íƒœë¡œ ë°”ê¾¸ë©´ í™•ë¥ ì´ ì˜¬ë¼ê°‘ë‹ˆë‹¤.
            </div>
          </div>
        </div>

        <!-- â‘¢ ì˜¤ëŠ˜ì˜ ë°©íŒ¨ -->
        <div class="section" id="t3">
          <div class="shield" id="shieldText">-</div>
          <div class="actions">
            <button class="btn primary" id="btnNewShield" type="button">ìƒˆ ë¬¸ì¥ ë½‘ê¸°</button>
            <button class="btn" id="btnCopyShield" type="button">ë¬¸ì¥ ë³µì‚¬</button>
          </div>

          <div class="divider"></div>

          <div class="field">
            <div class="label">ìƒí™©ì— ë§ê²Œ ì‚´ì§ ë°”ê¾¸ê¸°(ì„ íƒ)</div>
            <input id="shieldHint" type="text" placeholder="ì˜ˆ: ëª…ì ˆ / ë°©ë¬¸ / ìœ¡ì•„ / ë§íˆ¬ / ëˆ" />
          </div>
          <div class="actions">
            <button class="btn" id="btnRewriteShield" type="button">ë‚´ ìƒí™© ë²„ì „ìœ¼ë¡œ ë³€í™˜</button>
          </div>

          <div class="result show" style="display:block">
            <div class="note">
              <b>ì‚¬ìš©ë²•:</b> ì˜¤ëŠ˜ í•˜ë£¨ â€œì„ íƒì§€â€ë¥¼ ëŠ˜ë¦¬ëŠ” ìš©ë„ì˜ˆìš”.  
              ì‹¸ì›€ì„ ëë‚´ë ¤ í•˜ê¸°ë³´ë‹¤, <b>ë‚´ í…œí¬ë¥¼ ì§€í‚¤ëŠ” ë¬¸ì¥</b> í•˜ë‚˜ë§Œ ì±™ê¸°ëŠ” ëŠë‚Œìœ¼ë¡œ ì“°ë©´ ì¢‹ìŠµë‹ˆë‹¤.
            </div>
          </div>
        </div>

        <div class="note">
          <b>ê°œì¸ì •ë³´ ì•ˆë‚´:</b> ì´ í˜ì´ì§€ëŠ” ì…ë ¥ ë‚´ìš©ì„ ì„œë²„ë¡œ ì „ì†¡í•˜ì§€ ì•Šìœ¼ë©°, ë¸Œë¼ìš°ì €ì— ì €ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.  
          (ë‹¨, â€œë³µì‚¬â€ ê¸°ëŠ¥ì„ ëˆ„ë¥´ë©´ í´ë¦½ë³´ë“œì—ë§Œ ë³µì‚¬ë©ë‹ˆë‹¤.)
        </div>
      </section>

      <aside class="aside">
        <h3>í•œ ë²ˆì— ì´í•´ë˜ëŠ” ê·œì¹™</h3>
        <div class="small">
          <ul class="list">
            <li><b>ì •ë‹µ ì°¾ê¸°</b>ë³´ë‹¤ <b>ì„ íƒì§€ ëŠ˜ë¦¬ê¸°</b>ê°€ ëª©í‘œ</li>
            <li><b>í¸ë“¤ê¸°</b> ëŒ€ì‹  <b>ê°€ëŠ¥ì„± ë²ˆì—­</b></li>
            <li><b>ì¦‰ì‹œ ë°˜ì‘</b>ë³´ë‹¤ <b>ì‹œê°„ ë²Œê¸°</b>ê°€ ì´ë“ì¼ ë•Œê°€ ë§ìŒ</li>
            <li>ë§ì„ â€œí‘œë©´/ì†ëœ»/ìš”ì²­â€ìœ¼ë¡œ ë¶„ë¦¬í•˜ë©´ ê°ì • ì†Œëª¨ê°€ ì¤„ì–´ë“¦</li>
          </ul>
        </div>
        <div class="divider"></div>
        <div class="tiny">
          âš ï¸ ìœ„í˜‘/í­ì–¸/ì‹ ì²´ì  ìœ„í—˜ì´ ìˆê±°ë‚˜, ê·¹ì‹¬í•œ ìŠ¤íŠ¸ë ˆìŠ¤ê°€ ì§€ì†ëœë‹¤ë©´ ì£¼ë³€ ë„ì›€(ê°€ì¡±/ì§€ì¸/ì „ë¬¸ê¸°ê´€)ì„ ìš°ì„  ê³ ë ¤í•˜ì„¸ìš”.
        </div>
      </aside>
    </div>
  </div>

  <div class="footer-fixed">
    <div class="inner">
      <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
        <a class="btn ghost" href="https://funnyfunny.cloud" target="_blank" rel="noopener">ë‹¤ë¥¸ ì„œë¹„ìŠ¤ ë³´ê¸°</a>
        <a class="btn" href="./en.html">ğŸ‡ºğŸ‡¸ English</a>
        <span class="tiny">Â© funnyfunny.cloud Â· single HTML</span>
      </div>
      <div class="tiny">ê³ ë¶€ë²ˆì—­ê¸°(ê°€ì¹­) Â· ì¤‘ì¬/ì •ë¦¬ ë„êµ¬</div>
    </div>
  </div>

  <div id="toast" class="toast">ë³µì‚¬í–ˆì–´ìš”</div>

  <script>
    // -----------------------------
    // Utils
    // -----------------------------
    const $ = (id) => document.getElementById(id);

    function toast(msg="ì™„ë£Œ!") {
      const t = $("toast");
      t.textContent = msg;
      t.classList.add("show");
      setTimeout(() => t.classList.remove("show"), 1100);
    }

    async function copyText(text){
      try{
        await navigator.clipboard.writeText(text);
        toast("ë³µì‚¬í–ˆì–´ìš”");
      }catch{
        const ta = document.createElement("textarea");
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        document.body.removeChild(ta);
        toast("ë³µì‚¬í–ˆì–´ìš”");
      }
    }

    function pick(arr){
      return arr[Math.floor(Math.random()*arr.length)];
    }

    function sanitize(s){
      return String(s || "").trim().replace(/\s+/g," ");
    }

    // -----------------------------
    // Tabs
    // -----------------------------
    const tabs = Array.from(document.querySelectorAll(".tab"));
    const sections = ["t1","t2","t3"].map(id => $(id));

    tabs.forEach(btn=>{
      btn.addEventListener("click", ()=>{
        const target = btn.dataset.tab;
        tabs.forEach(t=>t.classList.toggle("active", t===btn));
        sections.forEach(sec=>sec.classList.toggle("show", sec.id===target));
        window.scrollTo({top:0, behavior:"smooth"});
      });
    });

    // -----------------------------
    // Tone (t1)
    // -----------------------------
    let tone1 = "peace";
    const toneButtons1 = Array.from(document.querySelectorAll("#toneRow1 .tone"));
    toneButtons1.forEach(b=>{
      b.addEventListener("click", ()=>{
        tone1 = b.dataset.tone;
        toneButtons1.forEach(x=>x.classList.toggle("active", x===b));
      });
    });

    // -----------------------------
    // Content DB (MVP: rule-based + pattern-based)
    // -----------------------------
    const SURFACE_FALLBACKS = {
      general: ["ìƒëŒ€ì˜ ê´€ì°°/í‰ê°€ë¥¼ ë§ë¡œ êº¼ë‚¸ ìƒí™©", "ê´€ê³„ì˜ ê±°ë¦¬ê°ì„ ë§ë¡œ í™•ì¸í•˜ëŠ” ìƒí™©", "ìŠµê´€/ë°©ì‹ì˜ ì°¨ì´ë¥¼ ë“œëŸ¬ë‚´ëŠ” ëŒ€í™”"],
      visit: ["ë°©ë¬¸ ë¹ˆë„/ì˜ˆì˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê´€ê³„ë¥¼ í™•ì¸í•˜ëŠ” ìƒí™©", "ê°€ê¹Œì›€ì˜ ê¸°ì¤€ì„ ì ê²€í•˜ëŠ” ìƒí™©", "í–‰ì‚¬/ëª…ì ˆ ì „í›„ë¡œ ë¯¼ê°ë„ê°€ ì˜¬ë¼ê°„ ìƒí™©"],
      child: ["ìœ¡ì•„ ë°©ì‹ì— ëŒ€í•œ ì„¸ëŒ€ ì°¨ì´ê°€ ë“œëŸ¬ë‚œ ìƒí™©", "ì•„ì´ë¥¼ ë§¤ê°œë¡œ í†µì œ/ê±±ì •ì´ ì„ì´ê¸° ì‰¬ìš´ ìƒí™©", "â€˜ì •ë‹µâ€™ì´ ì¶©ëŒí•˜ëŠ” ëŒ€í™”"],
      house: ["ì§‘ì•ˆì¼/ìƒí™œ ë°©ì‹ ê¸°ì¤€ì´ ë‹¤ë¥¸ ìƒí™©", "ì—­í•  ê¸°ëŒ€ì¹˜ê°€ ë– ì˜¤ë¥´ëŠ” ìƒí™©", "â€˜ì›ë˜ ì´ë ‡ê²Œâ€™ í”„ë ˆì„ì´ ë“±ì¥í•˜ëŠ” ìƒí™©"],
      money: ["ì§€ì›/ëˆ ë¬¸ì œë¡œ ê¶Œí•œÂ·ê±°ë¦¬ê°ì´ ì—®ì´ëŠ” ìƒí™©", "â€˜ë„ì›€â€™ê³¼ â€˜ê°„ì„­â€™ì˜ ê²½ê³„ê°€ í”ë“¤ë¦¬ëŠ” ìƒí™©", "ê°ì‚¬/ë¶€ë‹´ì´ ë™ì‹œì— ìƒê¸°ê¸° ì‰¬ìš´ ëŒ€í™”"]
    };

    function analyzeHiddenIntents(text, context){
      const t = text;

      // lightweight heuristics
      const flags = {
        visit: /ì§‘|ì˜¤ë„¤|ì•ˆ\s?ì™€|ì•ˆ\s?ì˜¤|ì–¸ì œ\s?ì˜¤|ìì£¼|ëª…ì ˆ|í–‰ì‚¬/.test(t),
        worry: /ê±±ì •|ê·¸ë˜ë„|ëª¸|ê±´ê°•|ë°¥|ì±™ê²¨|ì‚´|í”¼ê³¤/.test(t),
        compare: /ìš”ì¦˜|ìš”ìƒˆ|ì›ë˜|ìš°ë¦¬\s?ë•Œ|ë‹¤ë“¤|ë‹¤ë¥¸\s?ì§‘/.test(t),
        blame: /ì™œ|ê·¸ëŸ¬ë©´|ê·¸ë ‡ê²Œ|ë„ëŒ€ì²´|ë§ì´\s?ë˜|ê²°í˜¼ì€\s?ì™œ/.test(t),
        child: /ì• |ì•„ì´|ìœ¡ì•„|êµìœ¡|í•™ì›|ë²„ë¦‡|í‚¤ìš°/.test(t),
        boundary: /ì˜ˆì˜|ë„ë¦¬|ê°€ì¡±|ë©°ëŠë¦¬|ì‹œëŒ|ì§‘ì•ˆ/.test(t),
        soften: /ì‹«ì–´ì„œ|ê·¸ëŸ°\s?ëœ»\s?ì•„ë‹ˆ|ë¯¸ì•ˆ|ì„œìš´/.test(t),
      };

      const intents = [];

      // core intents
      if (flags.visit || context==="visit") {
        intents.push("ì„­ì„­í•¨: â€˜ìì£¼ ëª» ë³¸ë‹¤â€™ëŠ” ê°ì •ì´ ê¹”ë ¤ ìˆì„ ìˆ˜ ìˆì–´ìš”.");
        intents.push("ê´€ê³„ í™•ì¸: ê°€ê¹Œì›€ì˜ ê¸°ì¤€ì„ ë‹¤ì‹œ ë§ì¶”ê³  ì‹¶ì„ ìˆ˜ ìˆì–´ìš”.");
      }

      if (flags.worry) {
        intents.push("ê±±ì • í‘œí˜„: í†µì œë¼ê¸°ë³´ë‹¤ â€˜ì±™ê¸°ê³  ì‹¶ìŒâ€™ì¼ ê°€ëŠ¥ì„±ì´ ìˆì–´ìš”.");
      }

      if (flags.compare) {
        intents.push("ì„¸ëŒ€ ê¸°ì¤€: â€˜ì›ë˜/ìš°ë¦¬ ë•Œâ€™ ê¸°ì¤€ìœ¼ë¡œ ì•ˆì „í•¨ì„ í™•ë³´í•˜ë ¤ëŠ” íë¦„ì¼ ìˆ˜ ìˆì–´ìš”.");
      }

      if (flags.child || context==="child") {
        intents.push("ìœ¡ì•„ ê°œì… ìš•êµ¬: ë„ì›€ê³¼ ê°„ì„­ì´ ì„ì´ê¸° ì‰¬ìš´ ì˜ì—­ì´ë¼ ë¯¼ê°ë„ê°€ ì˜¬ë¼ê°€ìš”.");
        intents.push("ì •ì²´ì„± ì¶©ëŒ: â€˜ì¢‹ì€ ì—„ë§ˆ/ì¢‹ì€ ì–´ë¥¸â€™ ê¸°ì¤€ì´ ë¶€ë”ªí ìˆ˜ ìˆì–´ìš”.");
      }

      if (flags.boundary || context==="house" || context==="money") {
        intents.push("ê²½ê³„ì„  ì´ìŠˆ: ì—­í•  ê¸°ëŒ€ì¹˜(ë„ë¦¬/ì˜ˆì˜/ê°€ì¡±)ê°€ ì•”ë¬µì ìœ¼ë¡œ ë“±ì¥í•  ìˆ˜ ìˆì–´ìš”.");
      }

      if (flags.blame) {
        intents.push("ì••ë°•/í†µì œ ê°€ëŠ¥ì„±: ì§ˆë¬¸ í˜•íƒœë¡œ ì£„ì±…ê°ì„ ìœ ë„í•˜ëŠ” ë§íˆ¬ì¼ ìˆ˜ ìˆì–´ìš”.");
      }

      if (flags.soften) {
        intents.push("ë°©ì–´ ì¥ì¹˜: â€˜ì‹«ì–´ì„œê°€ ì•„ë‹ˆë¼â€™ë¡œ ê°ˆë“±ì„ ë‚®ì¶”ë ¤ëŠ” ì‹œë„ì¼ ìˆ˜ ìˆì–´ìš”.");
      }

      // fallback if too few
      if (intents.length < 2) {
        intents.push("ê°ì • í™•ì¸: ìƒëŒ€ê°€ â€˜ë‚´ê°€ ì¤‘ìš”í•œê°€â€™ë¥¼ í™•ì¸í•˜ë ¤ëŠ” íë¦„ì¼ ìˆ˜ ìˆì–´ìš”.");
        intents.push("ê±°ë¦¬ê° ì¡°ì ˆ: ê´€ê³„ì˜ ì˜¨ë„ë¥¼ ë‹¤ì‹œ ë§ì¶”ê³  ì‹¶ì€ ì‹ í˜¸ì¼ ìˆ˜ ìˆì–´ìš”.");
      }

      // ensure uniqueness
      return Array.from(new Set(intents)).slice(0, 5);
    }

    function surfaceMeaning(text, context){
      const t = sanitize(text);
      // try simple summary
      if (!t) return pick(SURFACE_FALLBACKS[context] || SURFACE_FALLBACKS.general);
      // short summary style
      if (t.length <= 22) return `â€œ${t}â€ë¼ëŠ” í‘œí˜„ìœ¼ë¡œ í˜„ì¬ ìƒíƒœ/ê¸°ì¤€ì„ ì–¸ê¸‰í•œ ìƒí™©`;
      return `â€œ${t.slice(0, 22)}â€¦â€ë¡œ í˜„ì¬ ìƒíƒœ/ê¸°ì¤€ì„ ì–¸ê¸‰í•œ ìƒí™©`;
    }

    function buildResponses(text, context){
      const t = sanitize(text);
      // response bank (tone-based)
      const peace = [
        "ìš”ì¦˜ ì¼ì •ì´ ì¢€ ë¹¡ë¹¡í•´ì„œìš”. ë‹¤ìŒì—” ë¯¸ë¦¬ ì—°ë½ë“œë¦¬ê³  ì¡°ìœ¨í•´ë³¼ê²Œìš”.",
        "ìš”ì¦˜ ì •ì‹ ì´ ì—†ì—ˆì–´ìš”. ë§ˆìŒ ì“°ì´ê²Œ í–ˆë‹¤ë©´ ë¯¸ì•ˆí•´ìš”. ì¼ì • ì¡ì•„ë³¼ê²Œìš”.",
        "ë§ì”€ ê³ ë§ˆì›Œìš”. ìš”ì¦˜ì€ ì´ë ‡ê²Œ ì§€ë‚´ê³  ìˆê³ , ê°€ëŠ¥í•œ ë‚  ë¯¸ë¦¬ ë§ì”€ë“œë¦´ê²Œìš”."
      ];
      const neutral = [
        "ìš”ì¦˜ ë°”ë¹´ì–´ìš”. ì¼ì • ì •ë¦¬ë˜ë©´ ì—°ë½ë“œë¦´ê²Œìš”.",
        "ì´ë²ˆ ë‹¬ì€ ì¼ì •ì´ ë§ì•„ì„œìš”. ë‹¤ìŒì— ë§ì¶°ë³¼ê²Œìš”.",
        "ìš”ì¦˜ì€ ì¡°ê¸ˆ ì •ì‹ ì´ ì—†ë„¤ìš”. í•„ìš”í•˜ë©´ ë¯¸ë¦¬ ë§ì”€ë“œë¦´ê²Œìš”."
      ];
      const boundary = [
        "ì €í¬ ì¼ì •ì€ ì €í¬ê°€ ë¨¼ì € ì¡°ìœ¨í•´ë³¼ê²Œìš”. ì •í•´ì§€ë©´ ì—°ë½ë“œë¦´ê²Œìš”.",
        "ë°©ë¬¸ì€ ë¯¸ë¦¬ ì•½ì† ì¡ê³  ê°€ëŠ” ê²Œ ì„œë¡œ í¸í•  ê²ƒ ê°™ì•„ìš”.",
        "ì§€ê¸ˆì€ ì¼ì •ì´ ë¶ˆê·œì¹™í•´ì„œìš”. ì €í¬ê°€ ê°€ëŠ¥í•œ ë‚ ì— ë¨¼ì € ë§ì”€ë“œë¦´ê²Œìš”."
      ];

      // context nuance
      if (context === "child") {
        peace[0] = "ë§ì”€ ê³ ë§ˆì›Œìš”. ì €í¬ëŠ” ì´ë ‡ê²Œ í•´ë³´ë ¤ê³  í•´ìš”. í•„ìš”í•˜ë©´ ë„ì›€ ë¶€íƒë“œë¦´ê²Œìš”.";
        neutral[0] = "ì €í¬ëŠ” ì¼ë‹¨ ì´ë ‡ê²Œ í•´ë³´ë ¤ í•´ìš”.";
        boundary[0] = "ìœ¡ì•„ ë°©ì‹ì€ ì €í¬ê°€ ì •í•´ì„œ í•´ë³¼ê²Œìš”. í•„ìš”í•œ ë¶€ë¶„ë§Œ ë„ì›€ ìš”ì²­ë“œë¦´ê²Œìš”.";
      }
      if (context === "money") {
        peace[0] = "ë§ˆìŒ ì¨ì£¼ì…”ì„œ ê³ ë§ˆì›Œìš”. ì €í¬ë¼ë¦¬ ë¨¼ì € ì •ë¦¬í•´ë³´ê³  ë§ì”€ë“œë¦´ê²Œìš”.";
        neutral[0] = "ì €í¬ê°€ ë¨¼ì € ì •ë¦¬í•´ë³¼ê²Œìš”.";
        boundary[0] = "ê¸ˆì „ ê´€ë ¨ì€ ì €í¬ê°€ ê¸°ì¤€ì„ ì •í•´ì„œ ê´€ë¦¬í• ê²Œìš”.";
      }
      if (context === "visit") {
        boundary[1] = "ë°©ë¬¸ì€ ì„œë¡œ í¸í•˜ê²Œ ë¯¸ë¦¬ ì•½ì† ì¡ê³  ê°€ëŠ” ë°©ì‹ìœ¼ë¡œ í• ê²Œìš”.";
      }

      // if text looks harsh, add time-buffer suggestion in list
      const harsh = /(ê²°í˜¼ì€\s?ì™œ|ë„ëŒ€ì²´|ë§ì´\s?ë¼|ê·¸ë ‡ê²Œê¹Œì§€|ë„ˆë¬´|ì™œ\s?ì´ë˜)/.test(t);

      const guide = harsh
        ? "ì§€ê¸ˆì€ ì¦‰ì‹œ ë°˜ì‘ë³´ë‹¤ â€˜ì‹œê°„ ë²Œê¸°â€™ê°€ ì´ë“ì¼ ê°€ëŠ¥ì„±ì´ ì»¤ìš”. ì§§ê²Œ ë°›ê³ , ë‚˜ì¤‘ì— í†¤ì„ ì •ë¦¬í•´ì„œ ë‹µí•˜ëŠ” í¸ì´ ì•ˆì „í•©ë‹ˆë‹¤."
        : "ìƒëŒ€ ë§ì˜ ì˜ë„ë¥¼ â€˜ë‹¨ì •â€™í•˜ì§€ ë§ê³ , í•„ìš”í•œ ë§Œí¼ë§Œ ë°›ì•„ì¹˜ë©´ í”¼ë¡œë„ê°€ ì¤„ì–´ìš”. ì˜¤ëŠ˜ì€ ì§§ê²Œ, ë‚´ì¼ ë” ì •ë¦¬í•´ë„ ë©ë‹ˆë‹¤.";

      return { peace, neutral, boundary, guide };
    }

    // -----------------------------
    // Feature â‘  In-law Translator
    // -----------------------------
    $("sample1").addEventListener("change", (e)=>{
      const v = e.target.value;
      if (v) $("input1").value = v;
    });

    $("btnRun1").addEventListener("click", ()=>{
      const text = sanitize($("input1").value);
      const context = $("context1").value;

      if (!text){
        toast("ë¬¸ì¥ì„ í•œ ì¤„ë§Œ ë„£ì–´ì¤˜ìš”");
        return;
      }

      // surface
      $("surface1").textContent = surfaceMeaning(text, context);

      // hidden intents
      const intents = analyzeHiddenIntents(text, context);
      $("hidden1").innerHTML = intents.map(x => `<li>${x}</li>`).join("");

      // responses
      const pack = buildResponses(text, context);
      const list = (tone1 === "peace") ? pack.peace
                : (tone1 === "neutral") ? pack.neutral
                : pack.boundary;

      // Always show 3, but make them feel varied
      const three = [list[0], list[1], list[2]];
      $("responses1").innerHTML = three.map(x => `<li>${x}</li>`).join("");

      // guide
      $("guide1").textContent = pack.guide;

      $("result1").classList.add("show");
      $("result1").scrollIntoView({behavior:"smooth", block:"start"});
    });

    $("btnCopy1").addEventListener("click", ()=>{
      const text = sanitize($("input1").value);
      if (!text){ toast("ë¨¼ì € ë²ˆì—­í•  ë¬¸ì¥ì„ ë„£ì–´ì¤˜ìš”"); return; }
      if (!$("result1").classList.contains("show")){ toast("ë¨¼ì € ë”¸ê¹ ë²ˆì—­ì„ ëˆŒëŸ¬ì¤˜ìš”"); return; }

      const surface = $("surface1").textContent;
      const intents = Array.from($("hidden1").querySelectorAll("li")).map(li=>`- ${li.textContent}`).join("\n");
      const responses = Array.from($("responses1").querySelectorAll("li")).map((li,i)=>`${i+1}) ${li.textContent}`).join("\n");
      const guide = $("guide1").textContent;

      const out =
`ê³ ë¶€ë²ˆì—­ê¸° (ìš”ì•½)
[ì›ë¬¸]
"${text}"

[í‘œë©´ ì˜ë¯¸]
${surface}

[ì†ëœ»(ê°€ëŠ¥ì„±)]
${intents}

[ì¶”ì²œ ë°˜ì‘ 3ê°€ì§€]
${responses}

[ê°€ì´ë“œ]
${guide}

https://funnyfunny.cloud`;
      copyText(out);
    });

    // -----------------------------
    // Feature â‘¡ Husband Mediator Translator
    // -----------------------------
    $("sample2").addEventListener("change", (e)=>{
      const v = e.target.value;
      if (v) $("input2").value = v;
    });

    function husbandVariants(raw, goal){
      const t = sanitize(raw);
      const hasYouMom = /ë‹¹ì‹ \s?ì—„ë§ˆ|ë„¤\s?ì—„ë§ˆ|ì‹œì–´ë¨¸/i.test(t);
      const baseFeeling = hasYouMom
        ? "ì–´ë¨¸ë‹˜ê³¼ì˜ ê´€ê³„ì—ì„œ ë‚´ê°€ ë§ì´ ì§€ì¹˜ê³  ìˆì–´."
        : "ìš”ì¦˜ ê·¸ ë¬¸ì œë¡œ ë‚´ê°€ ë§ì´ ì§€ì¹˜ê³  ìˆì–´.";

      const goalLine =
        goal==="ask" ? "ë‹¹ì‹ ì´ ì¤‘ê°„ì—ì„œ í•œ ë²ˆë§Œ ì •ë¦¬í•´ì£¼ë©´ ìƒí™©ì´ í›¨ì”¬ ë‚˜ì•„ì§ˆ ê²ƒ ê°™ì•„."
      : goal==="boundary" ? "ìš°ë¦¬ ê¸°ì¤€ì„ ë¨¼ì € ì •í•˜ê³ , ê·¸ ê¸°ì¤€ìœ¼ë¡œ ì •ë¦¬í•´ì¤¬ìœ¼ë©´ ì¢‹ê² ì–´."
      : goal==="plan" ? "ì•ìœ¼ë¡œ ê¸°ì¤€ì„ ì •í•´ë‘ê³  ë°˜ë³µë˜ì§€ ì•Šê²Œ ë§Œë“¤ê³  ì‹¶ì–´."
      : "ì§€ê¸ˆì€ ì‹¸ì›€ì´ ì»¤ì§€ì§€ ì•Šê²Œ ì •ë¦¬í•˜ê³  ì‹¶ì–´.";

      const vA = `${baseFeeling} ì§€ê¸ˆì€ ê°ì •ì´ ì˜¬ë¼ì™€ì„œ ë§ì´ ê±°ì¹ ì–´ì§ˆê¹Œ ë´ ì¡°ì‹¬í•˜ê³  ìˆì–´.`;

      const vB = `${baseFeeling} ${goalLine} ë‚´ê°€ ì›í•˜ëŠ” ê±´ â€˜í¸ë“¤ê¸°â€™ê°€ ì•„ë‹ˆë¼ â€˜ì •ë¦¬â€™ì•¼.`;

      const vC = `ì§€ê¸ˆì€ ë‚´ê°€ ì§ì ‘ ëŒ€í™”í•˜ê¸°ì—” ì—¬ìœ ê°€ ì—†ì–´. ëŒ€ì‹  ë‹¹ì‹ ì´ í†¤ì„ ë‚®ì¶°ì„œ í•œ ë²ˆë§Œ ì¤‘ì¬í•´ì¤„ ìˆ˜ ìˆì„ê¹Œ?`;

      const vD = goal==="boundary"
        ? "ìš°ë¦¬ ê¸°ì¤€ìœ¼ë¡œ í•œ ë²ˆë§Œ ì •ë¦¬í•´ì¤˜."
        : goal==="plan"
          ? "ì•ìœ¼ë¡œ ê¸°ì¤€ì„ ê°™ì´ ì •í•´ë³´ì."
          : "ì§€ê¸ˆ ì´ê±´ ë‹¹ì‹  ë„ì›€ì´ í•„ìš”í•´.";

      return {vA, vB, vC, vD};
    }

    $("btnRun2").addEventListener("click", ()=>{
      const text = sanitize($("input2").value);
      const goal = $("goal2").value;

      if (!text){
        toast("ì›ë¬¸ì„ í•œ ì¤„ë§Œ ë„£ì–´ì¤˜ìš”");
        return;
      }

      const {vA,vB,vC,vD} = husbandVariants(text, goal);
      $("v2a").textContent = vA;
      $("v2b").textContent = vB;
      $("v2c").textContent = vC;
      $("v2d").textContent = vD;

      $("result2").classList.add("show");
      $("result2").scrollIntoView({behavior:"smooth", block:"start"});
    });

    $("btnCopy2").addEventListener("click", ()=>{
      const text = sanitize($("input2").value);
      if (!text){ toast("ë¨¼ì € ì›ë¬¸ì„ ë„£ì–´ì¤˜ìš”"); return; }
      if (!$("result2").classList.contains("show")){ toast("ë¨¼ì € ë”¸ê¹ ë²ˆì—­ì„ ëˆŒëŸ¬ì¤˜ìš”"); return; }

      const out =
`ë‚¨í¸ ì¤‘ì¬ ë²ˆì—­ê¸° (ìš”ì•½)
[ì›ë¬¸]
"${text}"

[ê°ì • ì œê±°]
- ${$("v2a").textContent}

[ì„¤ë“ ì¤‘ì‹¬]
- ${$("v2b").textContent}

[ìµœì†Œ ì¶©ëŒ]
- ${$("v2c").textContent}

[ì´ˆë‹¨ë¬¸]
- ${$("v2d").textContent}

https://funnyfunny.cloud`;
      copyText(out);
    });

    // -----------------------------
    // Feature â‘¢ Daily Shield
    // -----------------------------
    const SHIELDS = [
      "ì§€ê¸ˆì€ ì´í•´ë°›ê¸°ë³´ë‹¤, ë‚´ í…œí¬ë¥¼ ì§€í‚¤ëŠ” ë‚ .",
      "ì¹¨ë¬µì€ íšŒí”¼ê°€ ì•„ë‹ˆë¼ ì„ íƒì¼ ìˆ˜ ìˆìŒ.",
      "ìƒëŒ€ì˜ ê°ì •ì€ ë‚´ ì±…ì„ì´ ì•„ë‹ˆë‹¤.",
      "ì •ë‹µì„ ì¦ëª…í•˜ë ¤ í•˜ì§€ ë§ê³ , ì†ìƒì„ ì¤„ì´ì.",
      "ë§ì„ ë°”ë¡œì¡ê¸°ë³´ë‹¤, ë‚´ ê²½ê³„ë¥¼ ë¨¼ì € ì„¸ìš°ì.",
      "ì˜¤ëŠ˜ì€ ì§§ê²Œ. ë‚´ì¼ ë” ì˜ ë§í•  ìˆ˜ ìˆë‹¤.",
      "ëª¨ë“  ì–´ë¥¸ì´ í˜„ëª…í•˜ì§„ ì•Šë‹¤. ë‚˜ëŠ” ë‚´ ë°©ì‹ìœ¼ë¡œ ì‚°ë‹¤.",
      "ê´€ê³„ëŠ” ìŠ¹íŒ¨ê°€ ì•„ë‹ˆë¼, íšŒë³µ ê°€ëŠ¥ì„±ì´ ì¤‘ìš”í•˜ë‹¤.",
      "ì§€ê¸ˆ í•„ìš”í•œ ê±´ ë°˜ë°•ì´ ì•„ë‹ˆë¼, ì‹œê°„ ë²Œê¸°.",
      "ë‚´ê°€ ê³¼ë¯¼í•œ ê²Œ ì•„ë‹ˆë¼, ëˆ„ì ì´ ìˆì—ˆë˜ ê²ƒì¼ ìˆ˜ ìˆë‹¤."
    ];

    function newShield(){
      $("shieldText").textContent = pick(SHIELDS);
    }

    $("btnNewShield").addEventListener("click", newShield);

    $("btnCopyShield").addEventListener("click", ()=>{
      const s = $("shieldText").textContent.trim();
      if (!s || s === "-"){ toast("ë¨¼ì € ë¬¸ì¥ì„ ë½‘ì•„ì¤˜ìš”"); return; }
      copyText(s);
    });

    $("btnRewriteShield").addEventListener("click", ()=>{
      const s = $("shieldText").textContent.trim();
      const hint = sanitize($("shieldHint").value);
      if (!s || s === "-"){ toast("ë¨¼ì € ë¬¸ì¥ì„ ë½‘ì•„ì¤˜ìš”"); return; }
      if (!hint){ toast("ìƒí™© í‚¤ì›Œë“œë¥¼ í•œ ë‹¨ì–´ë§Œ ë„£ì–´ì¤˜ìš”"); return; }

      // simple rewrite templates
      const variants = [
        `(${hint})ì—ì„œëŠ” â€œì •ë‹µâ€ë³´ë‹¤ â€œì†ìƒ ìµœì†Œí™”â€ê°€ ìš°ì„ .`,
        `(${hint})ì€ ë¯¼ê° êµ¬ê°„. ì˜¤ëŠ˜ì€ ë‚´ í…œí¬ë¥¼ ì§€í‚¤ì.`,
        `(${hint})ì€ ì§§ê²Œ ë§í•´ë„ ë˜ëŠ” ë‚ . ë‚´ì¼ ë” ì˜í•˜ë©´ ëœë‹¤.`,
        `(${hint})ì—ì„œëŠ” ê²½ê³„ê°€ ì˜ˆì˜ê°€ ë  ìˆ˜ ìˆë‹¤.`,
      ];
      $("shieldText").textContent = `${s}  ${pick(variants)}`;
      toast("ë³€í™˜í–ˆì–´ìš”");
    });

    // -----------------------------
    // Reset
    // -----------------------------
    $("btnReset").addEventListener("click", ()=>{
      // tabs back to t1
      tabs.forEach(t=>t.classList.toggle("active", t.dataset.tab==="t1"));
      sections.forEach(sec=>sec.classList.toggle("show", sec.id==="t1"));

      // clear inputs/results
      $("input1").value = "";
      $("context1").value = "general";
      $("sample1").value = "";
      tone1 = "peace";
      toneButtons1.forEach(b=>b.classList.toggle("active", b.dataset.tone==="peace"));
      $("result1").classList.remove("show");
      $("hidden1").innerHTML = "";
      $("responses1").innerHTML = "";
      $("surface1").textContent = "-";
      $("guide1").textContent = "-";

      $("input2").value = "";
      $("sample2").value = "";
      $("goal2").value = "reduce";
      $("result2").classList.remove("show");
      $("v2a").textContent = "-";
      $("v2b").textContent = "-";
      $("v2c").textContent = "-";
      $("v2d").textContent = "-";

      $("shieldHint").value = "";
      newShield();

      toast("ì´ˆê¸°í™”!");
      window.scrollTo({top:0, behavior:"smooth"});
    });

    // boot
    newShield();
  </script>
</body>
</html>
